<!DOCTYPE html>

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>AISKU Sample</title>
    <link rel="stylesheet" href="style/style.css"/>

    <script src="https://requirejs.org/docs/release/2.3.6/minified/require.js" type="text/javascript"></script>
<script type="text/javascript">
!(function (cfg){function e(){cfg.onInit&&cfg.onInit(i)}var k,x,D,t,n,i,E=window,w=document,C=E.location,O="script",b="ingestionendpoint",q="disableExceptionTracking",I="ai.device.";"instrumentationKey"[k="toLowerCase"](),x="crossOrigin",D="POST",t="appInsightsSDK",n=cfg.name||"appInsights",(cfg.name||E[t])&&(E[t]=n),i=E[n]||function(g){var f=!1,m=!1,h={initialize:!0,queue:[],sv:"7",version:2,config:g};function v(e,t){var n={},i="Browser";function a(e){e=""+e;return 1===e.length?"0"+e:e}return n[I+"id"]=i[k](),n[I+"type"]=i,n["ai.operation.name"]=C&&C.pathname||"_unknown_",n["ai.internal.sdkVersion"]="javascript:snippet_"+(h.sv||h.version),{time:(i=new Date).getUTCFullYear()+"-"+a(1+i.getUTCMonth())+"-"+a(i.getUTCDate())+"T"+a(i.getUTCHours())+":"+a(i.getUTCMinutes())+":"+a(i.getUTCSeconds())+"."+(i.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z",iKey:e,name:"Microsoft.ApplicationInsights."+e.replace(/-/g,"")+"."+t,sampleRate:100,tags:n,data:{baseData:{ver:2}},ver:undefined,seq:"1",aiDataContract:undefined}}var t,n,i,a,y=-1,T=0,S=["js.monitor.azure.com","js.cdn.applicationinsights.io","js.cdn.monitor.azure.com","js0.cdn.applicationinsights.io","js0.cdn.monitor.azure.com","js2.cdn.applicationinsights.io","js2.cdn.monitor.azure.com","az416426.vo.msecnd.net"],o=g.url||cfg.src,e=o.match(/^(https?:\/\/[^/]+)\/.*?\/ai\.(\d+(\.\d+){0,2})\.(.*?)$/);function r(l,t){if((n=navigator)&&(~(n=(n.userAgent||"").toLowerCase()).indexOf("msie")||~n.indexOf("trident/"))&&~l.indexOf("ai.3")&&(l=l.replace(/(\/)(ai\.3\.)([^\d]*)$/,function(e,t,n){return t+"ai.2"+n})),!1!==cfg.cr)for(var e=0;e<S.length;e++)if(0<l.indexOf(S[e])){y=e;break}var n,i=function(e){var a,t,n,i,o,r,s,c,u,d;h.queue=[],m||(0<=y&&T+1<S.length?(a=(y+T+1)%S.length,p(l.replace(/^(.*\/\/)([\w\.]*)(\/.*)$/,function(e,t,n,i){return t+S[a]+i})),T+=1):(f=m=!0,s=l,!0!==cfg.dle&&(c=(t=function(){var e,t={},n=g.connectionString;if(n)for(var i=n.split(";"),a=0;a<i.length;a++){var o=i[a].split("=");2===o.length&&(t[o[0][k]()]=o[1])}return t[b]||(e=(n=t.endpointsuffix)?t.location:null,t[b]="https://"+(e?e+".":"")+"dc."+(n||"services.visualstudio.com")),t}()).instrumentationkey||g.instrumentationKey||"",t=(t=(t=t[b])&&"/"===t.slice(-1)?t.slice(0,-1):t)?t+"/v2/track":g.endpointUrl,t=g.userOverrideEndpointUrl||t,(n=[]).push((i="SDK LOAD Failure: Failed to load Application Insights SDK script (See stack for details)",o=s,u=t,(d=(r=v(c,"Exception")).data).baseType="ExceptionData",d.baseData.exceptions=[{typeName:"SDKLoadFailed",message:i.replace(/\./g,"-"),hasFullStack:!1,stack:i+"\nSnippet failed to load ["+o+"] -- Telemetry is disabled\nHelp Link: https://go.microsoft.com/fwlink/?linkid=2128109\nHost: "+(C&&C.pathname||"_unknown_")+"\nEndpoint: "+u,parsedStack:[]}],r)),n.push((d=s,i=t,(u=(o=v(c,"Message")).data).baseType="MessageData",(r=u.baseData).message='AI (Internal): 99 message:"'+("SDK LOAD Failure: Failed to load Application Insights SDK script (See stack for details) ("+d+")").replace(/\"/g,"")+'"',r.properties={endpoint:i},o)),s=n,c=t,JSON&&((u=E.fetch)&&!cfg.useXhr?u(c,{method:D,body:JSON.stringify(s),mode:"cors"}):XMLHttpRequest&&((d=new XMLHttpRequest).open(D,c),d.setRequestHeader("Content-type","application/json"),d.send(JSON.stringify(s)))))))},a=function(e,t){m||setTimeout(function(){!t&&h.core||i()},500),f=!1},p=function(e){var n=w.createElement(O),e=(n.src=e,t&&(n.integrity=t),cfg[x]);return!e&&""!==e||"undefined"==n[x]||(n[x]=e),n.onload=a,n.onerror=i,n.onreadystatechange=function(e,t){"loaded"!==n.readyState&&"complete"!==n.readyState||a(0,t)},cfg.ld&&cfg.ld<0?w.getElementsByTagName("head")[0].appendChild(n):setTimeout(function(){w.getElementsByTagName(O)[0].parentNode.appendChild(n)},cfg.ld||0),n};p(l)}5===e.length&&cfg.sri?(d=e[1]+"/beta/ai."+e[2]+".integrity.json",t="@"+e[4],e=window.fetch,n=null,i="3",e&&!cfg.useXhr?e(d,{method:"GET",mode:"cors"}).then(function(e){return e.json()}).then(function(e){i=e.version,n=e.ext[t].integrity,r(o=o.replace(/(?<=\/ai\.)\d+(\.\d+){0,2}/,i),n)})["catch"](function(e){console.error("Error loading JSON:",e),r(o,n)}):XMLHttpRequest&&((a=new XMLHttpRequest).open("GET",d),a.onreadystatechange=function(){var e;a.readyState===XMLHttpRequest.DONE&&(200===a.status?(e=JSON.parse(a.responseText),i=e.version,n=e.ext[t].integrity,r(o=o.replace(/(?<=\/ai\.)\d+(\.\d+){0,2}/,i),n)):(console.error("Error loading JSON:",a.statusText),r(o,n)))},a.send())):o&&r(o,n);try{h.cookie=w.cookie}catch(p){}function s(e){for(;e.length;)!function(t){h[t]=function(){var e=arguments;f||h.queue.push(function(){h[t].apply(h,e)})}}(e.pop())}var c,u,e="track",d="TrackPage",l="TrackEvent",e=(s([e+"Event",e+"PageView",e+"Exception",e+"Trace",e+"DependencyData",e+"Metric",e+"PageViewPerformance","start"+d,"stop"+d,"start"+l,"stop"+l,"addTelemetryInitializer","setAuthenticatedUserContext","clearAuthenticatedUserContext","flush"]),h.SeverityLevel={Verbose:0,Information:1,Warning:2,Error:3,Critical:4},(g.extensionConfig||{}).ApplicationInsightsAnalytics||{});return!0!==g[q]&&!0!==e[q]&&(s(["_"+(c="onerror")]),u=E[c],E[c]=function(e,t,n,i,a){var o=u&&u(e,t,n,i,a);return!0!==o&&h["_"+c]({message:e,url:t,lineNumber:n,columnNumber:i,error:a,evt:E.event}),o},g.autoExceptionInstrumented=!0),h}(cfg.cfg),(E[n]=i).queue&&0===i.queue.length?(i.queue.push(e),i.trackPageView({})):e();})({
    src: "https://js.monitor.azure.com/scripts/b/ai.3.gbl.min.js",
    // name: "appInsights", // Global SDK Instance name defaults to "appInsights" when not supplied
    // ld: 0, // Defines the load delay (in ms) before attempting to load the sdk. -1 = block page load and add to head. (default) = 0ms load after timeout,
    // useXhr: 1, // Use XHR instead of fetch to report failures (if available),
    // dle: true, // Prevent the SDK from reporting load failure log
    crossOrigin: "anonymous", // When supplied this will add the provided value as the cross origin attribute on the script tag
    // onInit: null, // Once the application insights instance has loaded and initialized this callback function will be called with 1 argument -- the sdk instance (DO NOT ADD anything to the sdk.queue -- As they won't get called)
    sri: true, // Custom optional value to specify whether fetching the snippet from integrity file and do integrity check 
    cfg: { // Application Insights Configuration
        connectionString: "Your-connection-string-here"
    }
});
  </script>
  </head>
  <body>
    <h1>Microsoft Application Insights JavaScript SDK - AISKU</h1>
    <script>
      let appInsights = new ApplicationInsights.ApplicationInsights({ config: {connectionString: "InstrumentationKey=88888888", disableInstrumentationKeyValidation: true}});
      appInsights.loadAppInsights();
      window.appInsights = appInsights;
    </script>
    <!-- <script src="aisku-example-index.gbl.js"></script> -->
  </body>
</html>